[build]
builder = "NIXPACKS"

[deploy]
startCommand = "gunicorn --bind 0.0.0.0:$PORT --workers 2 --threads 4 --timeout 120 main:app"
healthcheckPath = "/health"

[deploy.healthcheck]
path = "/health"
initialDelay = 30
timeout = 10
period = 30
successThreshold = 1
failureThreshold = 3

[deploy.service]
port = 8000
memory = 512
cpu = 0.5

[variables]
PYTHONUNBUFFERED = "1"
PORT = "8000"
FLASK_ENV = "production"
SECRET_KEY = "change-this-in-production-secret-key"
ADMIN_PASSWORD = "your-admin-password-here"
DEBUG = "false"
